<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="google-adsense-account" content="ca-pub-9766166324617288">
  <meta name="description" content="내 손안의 바둑판 - 언제 어디서나 즐기는 온라인 바둑과 오목. 연습과 대국을 위한 최고의 선택.">
<meta name="keywords" content="바둑, 오목, 바둑판, 온라인바둑, 기보연습, 보드게임">

<meta property="og:title" content="내 손안의 바둑판">
<meta property="og:description" content="설치 없이 바로 즐기는 무료 바둑 & 오목 서비스">
<meta property="og:image" content="favicon.ico"> <meta property="og:url" content="https://ezzone72.github.io">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link rel="icon" href="https://img.icons8.com/emoji/48/000000/black-circle-emoji.png">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9766166324617288"
     crossorigin="anonymous"></script>
  <title>내 손안의 바둑판</title>
  <style>
    :root{ --bg:#0b0f14; --panel:#111826; --wood:#c49a6c; --wood2:#b78957; --text:#e7eefc; --accent:#facc15; --radius: 18px; }
    body{ margin:0; font-family: sans-serif; background: var(--bg); color: var(--text); display: flex; flex-direction: column; align-items: center; }
    #introLayer { position: fixed; top:0; left:0; width:100%; height:100%; z-index: 100; background: #000 url('intro-gpt1.png') no-repeat center center / cover; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; padding-bottom: 100px; transition: 0.5s; }
    .start-btn { padding: 18px 50px; font-size: 1.3rem; font-weight: 800; border-radius: 40px; background: #fff; color: #000; border: none; cursor: pointer; }
    .game-section { width: 100%; max-width: 600px; display: flex; flex-direction: column; align-items: center; padding: 20px; }
    #status { margin-bottom:15px; font-weight: bold; color: var(--accent); }
    .board-container{ position:relative; width:92vw; height:92vw; max-width:550px; max-height:550px; background: var(--wood); border-radius: 8px; border: 4px solid var(--wood2); display:flex; align-items:center; justify-content:center; }
    canvas{ width:100%; height:100%; touch-action:none; cursor: pointer; }
    .btn-group{ width:100%; display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:20px; }
    .btn{ border:none; border-radius:12px; padding:15px; color:#fff; background:#1e293b; font-weight:600; cursor:pointer; }
    .btn-reset { grid-column: span 2; background:#ef4444; }
  </style>
</head>
<body>

<div id="introLayer">
  <button class="start-btn" onclick="startGame()">수담(手談) 시작하기</button>
</div>

<div class="game-section">
<div class="game-section">
  <h1 style="color: var(--accent); margin-bottom: 5px;">내 손안의 바둑판 (Hand-Go)</h1>
  <p style="font-size: 0.9rem; color: #888; margin-top: 0; margin-bottom: 20px;">AI와 인간이 협업하여 만든 디지털 수담(手談) 공간</p>

  <div class="developer-note" style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 12px; font-size: 0.9rem; line-height: 1.6; margin-bottom: 20px; text-align: left;">
    <strong>🚀 개발자 노트: "왜 이 서비스를 만들었나?"</strong><br>
    안녕하세요, <strong>aisojang.tistory.com</strong>을 운영 중인 개발자입니다. 본 서비스는 현대인의 복잡한 일상 속에서 잠시 숫자를 내려놓고, 바둑의 본질인 '수담'을 즐기기 위해 기획되었습니다. 
    기존의 복잡한 바둑 앱들과 달리, <strong>설치 없이 브라우저에서 즉시 실행</strong>되며, AI와 협업하여 코딩한 '인간 친화적' 인터페이스가 특징입니다. 
    자세한 개발 과정과 AI 비서 활용법은 제 블로그(<a href="https://aisojang.tistory.com" target="_blank" style="color: var(--accent);">aisojang.tistory.com</a>)에서 확인하실 수 있습니다.
  </div>

  <div class="manual-section" style="width: 100%; font-size: 0.85rem; margin-bottom: 20px; color: #ddd;">
    <h3 style="color: #fff; font-size: 1rem; margin-bottom: 10px;">🎮 이용 방법 및 특징</h3>
    <ul style="padding-left: 20px; margin: 0;">
      <li><strong>모드 전환:</strong> 버튼 하나로 19줄 바둑과 5목(오목) 모드를 자유롭게 오갈 수 있습니다.</li>
      <li><strong>수동 계가:</strong> 승패 판정 시스템에 의존하지 않고 사용자가 직접 집을 세며 바둑의 깊이를 느낄 수 있도록 설계되었습니다.</li>
      <li><strong>무설치/무광고:</strong> 불필요한 회원가입이나 설치 없이 링크 공유만으로 즉시 친구와 대국이 가능합니다.</li>
    </ul>
  </div>
  <div id="status">흑의 차례 (바둑) | 잡은 돌 - 흑: 0 백: 0</div>  <div class="board-container">
    <canvas id="goBoard"></canvas>
  </div>
  <div class="btn-group">
    <button onclick="toggleMode()" class="btn" id="modeBtn">🔁 오목 모드로 전환</button>
    <button onclick="undo()" class="btn">한 수 무르기</button>
    <button onclick="resetBoard()" class="btn btn-reset">판 비우기 (새 게임)</button>
  </div>
</div>
<div class="content-section" style="width: 100%; max-width: 560px; padding: 10px; margin-top: 10px;">
  <p style="text-align: center; color: #666; font-size: 0.8rem; margin: 30px 0 10px;"> 아래에서 바둑의 유래와 깊은 이야기를 확인해보세요. ▼ </p>
  <article style="background:#111826; padding:25px; border-radius:18px; line-height:1.8; border-left:6px solid #facc15; margin-bottom:30px; box-shadow: 0 10px 20px rgba(0,0,0,0.2);">
    <h2 style="color:#facc15; margin-top:0; font-size: 1.4rem;">🏮 다시, 수담(手談)의 온기를 찾아서</h2>
    <p style="margin-bottom: 15px;">"계가도 안 해주는 불친절한 바둑판, 왜 만들었냐고요?"</p>
    <p style="font-size: 0.95rem; opacity: 0.9;">
      어느 순간부터 우리는 모니터 너머 상대와 시간에 쫓기며 바둑을 둡니다. 승패에만 집착하는 사이, 우리가 처음 배웠던 <strong>'수담'</strong>의 맛은 사라졌습니다.<br><br>
      이 바둑판은 의도적으로 <strong>'불친절'</strong>합니다. 자동으로 집을 계산하지 않고, 초읽기도 없습니다. 대신, 바로 앞 친구의 눈을 한 번 더 맞추게 합니다.<br><br>
      <strong>"언제 어디서나, 소중한 사람과 진짜 수담을 즐기십시오."</strong>
    </p>
    <div style="color:#facc15; border-top:1px solid #333; padding-top:15px; margin-top:15px; font-size: 0.9rem;">
      ☕ 친구들과 커피숍에서 오목 한판 두기에도 최고입니다!
    </div>
  </article>

<div style="width: 100%; max-width: 560px; margin-top: 20px;">

<details style="background:#1e293b; color:#fff; padding:15px; border-radius:12px; margin-bottom:10px; cursor:pointer; border:1px solid #334155;">
    <summary style="font-weight:bold; color:#facc15;">📚 [상식] "미생에서 완생으로" 생활 속 바둑 용어</summary>
    <div style="padding-top:15px; font-size:0.9rem; line-height:1.7; color:#ddd;">
      <p>우리 일상에는 바둑에서 유래한 표현이 정말 많습니다.</p>
      <ul style="padding-left:20px; list-style-type: '• ';">
        <li><strong>미생:</strong> 집이 없어 아직 완전히 살지 못한 돌 (직장인의 비유)</li>
        <li><strong>정석:</strong> 공인된 최선의 방식 (일의 표준)</li>
        <li><strong>포석:</strong> 장래를 위해 미리 준비하는 기초 공사</li>
        <li><strong>자충수:</strong> 스스로를 불리하게 만드는 결정적인 실수</li>
      </ul>

      <div style="margin-top:15px; text-align:center;">
        <a href="https://www.youtube.com/watch?v=UMsF8CA5y1k" target="_blank" style="text-decoration:none;">
          <div style="position:relative; width:100%; border-radius:12px; overflow:hidden; border:2px solid #facc15;">
            <img src="https://img.youtube.com/vi/UMsF8CA5y1k/hqdefault.jpg" style="width:100%; display:block;" alt="유튜브 미리보기">
            <div style="position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); background:rgba(0,0,0,0.7); color:#fff; padding:12px 24px; border-radius:30px; font-weight:bold; font-size:0.9rem; border:1px solid #facc15;">
              ▶ 영상 재생하기 (새 창)
            </div>
          </div>
          <p style="color:#facc15; font-size:0.8rem; margin-top:8px; opacity:0.8;">※ 클릭하면 유튜브 앱 또는 새 창에서 유래 영상을 확인합니다.</p>
        </a>
      </div>
    </div>
  </details>
<details style="background:#1e293b; color:#fff; padding:15px; border-radius:12px; margin-bottom:10px; cursor:pointer; border:1px solid #334155;">
    <summary style="font-weight:bold; color:#facc15;">😲 [에피소드] 프로 대국 중 발생한 황당 사건사고</summary>
    <div style="padding-top:15px; font-size:0.9rem; line-height:1.7; color:#ddd;">
      <p>프로들의 긴박한 승부 속에서 벌어진 실제 사건들을 확인해보세요.</p>
      <ul style="padding-left:20px; list-style-type: '• ';">
        <li><strong>돌 들어내기:</strong> 착점 후 돌을 만지면 규칙상 기권으로 간주됩니다.</li>
        <li><strong>연속 착수:</strong> 자기 차례가 아닌데 두 번 두어 반칙패한 사례.</li>
      </ul>

      <div style="margin-top:15px; text-align:center;">
        <a href="https://www.youtube.com/watch?v=1mfNSUa_iAM" target="_blank" style="text-decoration:none;">
          <div style="position:relative; width:100%; border-radius:12px; overflow:hidden; border:2px solid #facc15;">
            <img src="https://img.youtube.com/vi/1mfNSUa_iAM/hqdefault.jpg" style="width:100%; display:block;" alt="유튜브 미리보기">
            <div style="position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); background:rgba(0,0,0,0.7); color:#fff; padding:12px 24px; border-radius:30px; font-weight:bold; font-size:0.9rem; border:1px solid #facc15;">
              ▶ 영상 재생하기 (새 창)
            </div>
          </div>
          <p style="color:#facc15; font-size:0.8rem; margin-top:8px; opacity:0.8;">※ 클릭하면 유튜브 앱 또는 새 창에서 영상이 열립니다.</p>
        </a>
      </div>
    </div>
  </details>

<details style="background:#1e293b; color:#fff; padding:15px; border-radius:12px; margin-bottom:10px; cursor:pointer; border:1px solid #334155;">
    <summary style="font-weight:bold; color:#facc15;">🤝 [모임] 당근마켓으로 우리 동네 기우회 만들기</summary>
    <div style="padding-top:15px; font-size:0.9rem; line-height:1.7; color:#ddd;">
      <p>'당근' 앱의 **'동네 모임'** 서비스를 활용하면 지역 기반의 바둑/오목 모임을 쉽게 운영할 수 있습니다.</p>
      
      <div style="background:rgba(250, 204, 21, 0.05); border-left:4px solid #facc15; padding:12px; margin:15px 0; border-radius:4px;">
        <p><strong>• 모임 찾기:</strong> '동네생활' 탭의 [모임 둘러보기]에서 취미/게임 카테고리를 확인하세요.</p>
        <p><strong>• 기우회 개설:</strong> (+) 버튼을 눌러 모임 이름과 소개(예: 매너 바둑 모임)를 작성합니다.</p>
        <p><strong>• 멤버 관리:</strong> '승인 후 가입' 기능을 켜서 바둑 급수나 선호하는 대국 스타일을 미리 물어볼 수 있습니다.</p>
      </div>

      <p>채팅방에서 정기 대국 일정을 잡고, 대국 후에는 **기보 사진을 앨범에 공유**하여 복기하는 재미를 느껴보세요. 가까운 이웃들과 나누는 수담은 최고의 힐링이 됩니다.</p>
    </div>
  </details>

<article style="background:#111826; padding:25px; border-radius:18px; line-height:1.8; border-left:6px solid #4ade80; margin-bottom:30px; color:#ddd; font-size:0.95rem;">
    <h2 style="color:#4ade80; margin-top:0; font-size: 1.4rem;">♟️ 바둑과 오목: 단순한 게임을 넘어선 인류의 지혜</h2>
    
    <h3 style="color:#fff; border-bottom:1px solid #333; padding-bottom:5px;">1. 바둑(Go)의 기원과 역사적 가치</h3>
    <p>바둑은 기원전 2000년경 중국에서 시작된 것으로 알려진 인류 역사상 가장 오래된 보드게임 중 하나입니다. 요·순 임금이 아들의 지혜를 깨우치기 위해 만들었다는 설이 있을 만큼, 바둑은 단순한 오락을 넘어 <strong>천문, 수학, 철학</strong>이 집약된 고도의 지적 유희입니다. 한국에는 삼국시대에 전래되어 '기성'이라 불리는 수많은 명국을 남겼으며, 현대에 이르러서는 인공지능(AI) 발전의 척도가 되는 '마지막 인류 지성'의 영역으로 평가받기도 했습니다.</p>

    <h3 style="color:#fff; border-bottom:1px solid #333; padding-bottom:5px;">2. 오목(Gomoku)의 필승 전략과 수 읽기</h3>
    <p>오목은 규칙은 단순하지만 그 이면에는 무수한 수 읽기가 존재합니다. 가장 대표적인 전략은 <strong>'4-3'</strong> 전략으로, 동시에 두 개의 공격 활로를 만들어 상대가 방어할 수 없게 만드는 것입니다. 전문적인 대국에서는 선공의 유리함을 제한하기 위해 '렌주룰'을 적용하기도 합니다. 본 서비스는 이러한 복잡한 제약 없이 친구, 가족과 함께 누구나 쉽게 즐길 수 있도록 기본에 충실한 환경을 제공합니다.</p>

    <h3 style="color:#fff; border-bottom:1px solid #333; padding-bottom:5px;">3. 두뇌 건강과 교육적 효능</h3>
    <p>바둑과 오목을 즐기는 것은 전두엽 기능을 활성화하여 <strong>문제 해결 능력과 집중력</strong>을 향상시키는 데 큰 도움을 줍니다. 특히 수많은 경우의 수를 예측하는 과정은 노년기 치매 예방에 탁월한 효과가 있다는 연구 결과가 많습니다. 어린이들에게는 인내심과 예절을 가르치는 훌륭한 교구의 역할을 수행합니다. 승패를 떠나 한 수 한 수에 집중하는 시간은 현대인의 스트레스를 해소하는 '디지털 명상'의 시간이 될 것입니다.</p>

    <div style="background:rgba(74, 222, 128, 0.1); padding:15px; border-radius:10px; margin-top:15px; border:1px dashed #4ade80;">
        <strong>📌 제반장의 이용 팁:</strong> 
        웹 기반으로 제작된 이 바둑판은 별도의 설치가 필요 없습니다. 스마트폰이나 태블릿에서 바로 접속하여 카페, 이동 중인 지하철 등 언제 어디서나 친구와 대면 대국을 즐겨보세요.
    </div>
</article>  
  
<details style="background:#1e293b; color:#fff; padding:15px; border-radius:12px; margin-bottom:10px; cursor:pointer; border:1px solid #334155;">
    <summary style="font-weight:bold; color:#facc15;">🏛️ [정책] 국가가 육성하는 '바둑 진흥 기본 계획'</summary>
    <div style="padding-top:15px; font-size:0.9rem; line-height:1.7; color:#ddd;">
      <p>문화체육관광부가 수립한 이 계획은 바둑을 **건강한 100세 시대를 선도하는 창의여가 스포츠**로 육성하는 것을 목표로 합니다.</p>
      
      <ul style="padding-left:20px; margin:15px 0;">
        <li><strong>지속 가능한 생태계:</strong> 단급체계 표준화 및 바둑 전용 경기장 건립</li>
        <li><strong>생활체육 확산:</strong> 유년기부터 노년기까지 맞춤형 콘텐츠 제공 및 치매 예방 연계</li>
        <li><strong>산업화·세계화:</strong> AI 기술 개발 지원 및 바둑 용어·규칙의 국제 표준 정립</li>
        <li><strong>사회적 가치:</strong> 자폐·발달장애인을 위한 '아름바둑' 보급 등 취약계층 지원</li>
      </ul>

      <div style="margin-top:15px; text-align:center;">
        <a href="https://www.youtube.com/watch?v=rcPf5gjXKgw" target="_blank" style="text-decoration:none;">
          <div style="position:relative; width:100%; border-radius:12px; overflow:hidden; border:2px solid #facc15;">
            <img src="https://img.youtube.com/vi/rcPf5gjXKgw/hqdefault.jpg" style="width:100%; display:block;" alt="정책 관련 영상">
            <div style="position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); background:rgba(0,0,0,0.7); color:#fff; padding:12px 24px; border-radius:30px; font-weight:bold; font-size:0.9rem; border:1px solid #facc15;">
              ▶ 정책 영상 확인 (새 창)
            </div>
          </div>
          <p style="color:#facc15; font-size:0.8rem; margin-top:8px; opacity:0.8;">※ 클릭하면 관련 유튜브 영상이 새 창에서 열립니다.</p>
        </a>
      </div>
    </div>
  </details>
</div>

</div>
<script>
  const canvas = document.getElementById('goBoard');
  const ctx = canvas.getContext('2d');
  const SIZE = 19;

  let board = Array.from({length:SIZE}, () => Array(SIZE).fill(0));
  let turn = 1;
  let history = [];
  let isOmok = false;
  let captures = { 1: 0, 2: 0 }; // 1: 흑이 잡은 수, 2: 백이 잡은 수

  function startGame() {
    const layer = document.getElementById('introLayer');
    layer.style.opacity = '0';
    setTimeout(() => {
      layer.style.display = 'none';
      initBoard();       // 시작 버튼에서도 초기화
      updateStatus();
      syncModeButton();
    }, 500);
  }

  // ✅ DPR 스케일 누적 방지: initBoard() 여러 번 호출돼도 안전
  function initBoard() {
    const rect = canvas.getBoundingClientRect();
    const dpr = window.devicePixelRatio || 1;

    canvas.width  = rect.width * dpr;
    canvas.height = rect.width * dpr;

    // 누적 스케일 방지(리셋 후 재설정)
    ctx.setTransform(1, 0, 0, 1, 0, 0);
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

    draw();
  }

  function draw() {
    const s = canvas.width / (window.devicePixelRatio || 1);
    const padding = s / (SIZE + 1);
    const spacing = (s - padding * 2) / (SIZE - 1);

    ctx.clearRect(0, 0, s, s);
    ctx.beginPath();
    ctx.strokeStyle = "#333";

    for (let i = 0; i < SIZE; i++) {
      ctx.moveTo(padding, padding + i * spacing);
      ctx.lineTo(s - padding, padding + i * spacing);

      ctx.moveTo(padding + i * spacing, padding);
      ctx.lineTo(padding + i * spacing, s - padding);
    }
    ctx.stroke();

    for (let y = 0; y < SIZE; y++) {
      for (let x = 0; x < SIZE; x++) {
        if (board[y][x] !== 0) {
          ctx.beginPath();
          ctx.arc(padding + x * spacing, padding + y * spacing, spacing * 0.43, 0, Math.PI * 2);
          ctx.fillStyle = board[y][x] === 1 ? "#000" : "#fff";
          ctx.fill();
        }
      }
    }
  }

canvas.addEventListener('mousedown', (e) => {
    const rect = canvas.getBoundingClientRect();
    const s = rect.width;
    const padding = s / (SIZE + 1);
    const spacing = (s - padding * 2) / (SIZE - 1);
    const x = Math.round((e.clientX - rect.left - padding) / spacing);
    const y = Math.round((e.clientY - rect.top - padding) / spacing);

    if (x >= 0 && x < SIZE && y >= 0 && y < SIZE && board[y][x] === 0) {
      let tempBoard = board.map(row => [...row]);
      board[y][x] = turn;

      // [소리 추가] 일단 돌을 놓았으니 착수음 재생!
      const placeSound = document.getElementById('placeSound');
      placeSound.currentTime = 0;
      placeSound.play();

      if (!isOmok) {
        let captured = checkCaptures(x, y, turn);
        if (captured.length === 0 && isSuicide(x, y, turn)) {
          board = tempBoard;
          alert("자살수입니다!");
          return;
        }

        // [소리 추가] 만약 잡힌 돌이 있다면 '잡기 소리'로 덮어쓰기!
        if (captured.length > 0) {
          const captureSound = document.getElementById('captureSound');
          captureSound.currentTime = 0;
          captureSound.play();
        }

        captured.forEach(p => {
          board[p.y][p.x] = 0;
          captures[turn]++;
        });
      }

      history.push({board: tempBoard, turn, captures: {...captures}});
      if (isOmok && checkOmok(x, y, turn)) {
        draw();
        setTimeout(() => alert("오목 승리!"), 10);
      }

      turn = (turn === 1) ? 2 : 1;
      updateStatus();
      draw();
    }
  });
  function getGroup(x, y, color) {
    let group = [];
    let stack = [{x, y}];
    let visited = new Set();

    while (stack.length > 0) {
      let p = stack.pop();
      let key = p.x + ',' + p.y;
      if (visited.has(key)) continue;

      visited.add(key);
      group.push(p);

      [[1,0],[-1,0],[0,1],[0,-1]].forEach(d => {
        let nx = p.x + d[0], ny = p.y + d[1];
        if (nx>=0 && nx<SIZE && ny>=0 && ny<SIZE && board[ny][nx] === color) {
          stack.push({x:nx, y:ny});
        }
      });
    }
    return group;
  }

  function hasLiberties(group) {
    for (let p of group) {
      let libs = [[1,0],[-1,0],[0,1],[0,-1]];
      for (let d of libs) {
        let nx = p.x + d[0], ny = p.y + d[1];
        if (nx>=0 && nx<SIZE && ny>=0 && ny<SIZE && board[ny][nx] === 0) return true;
      }
    }
    return false;
  }

  function checkCaptures(x, y, color) {
    let opponent = color === 1 ? 2 : 1;
    let allCaptured = [];

    [[1,0],[-1,0],[0,1],[0,-1]].forEach(d => {
      let nx = x + d[0], ny = y + d[1];
      if (nx>=0 && nx<SIZE && ny>=0 && ny<SIZE && board[ny][nx] === opponent) {
        let group = getGroup(nx, ny, opponent);
        if (!hasLiberties(group)) allCaptured.push(...group);
      }
    });
    return allCaptured;
  }

  function isSuicide(x, y, color) {
    return !hasLiberties(getGroup(x, y, color));
  }

  function checkOmok(x, y, c) {
    return [[1,0],[0,1],[1,1],[1,-1]].some(d => {
      let cnt = 1;
      for(let i=1; i<5; i++) if(board[y+d[1]*i]?.[x+d[0]*i]===c) cnt++; else break;
      for(let i=1; i<5; i++) if(board[y-d[1]*i]?.[x-d[0]*i]===c) cnt++; else break;
      return cnt >= 5;
    });
  }

  function syncModeButton() {
    document.getElementById('modeBtn').innerText =
      isOmok ? "🔁 바둑 모드로 전환" : "🔁 오목 모드로 전환";
  }

  // ✅ 오목이면 "잡은 돌" 숨김 + 모드 표시
  function updateStatus() {
    const modeText = isOmok ? "오목" : "바둑";
    const turnText = `${turn===1?'흑':'백'}의 차례 (${modeText})`;

    document.getElementById('status').innerText = isOmok
      ? turnText
      : `${turnText} | 잡은 돌 - 흑: ${captures[1]} 백: ${captures[2]}`;
  }

  // ✅ 돌이 있는 상태에서는 모드 전환 제한(필요 시 판 비우고 전환)
  function boardNotEmpty() {
    return history.length > 0 || board.some(row => row.some(v => v !== 0));
  }

  function clearBoardSilently() {
    board = Array.from({length:SIZE}, () => Array(SIZE).fill(0));
    captures = {1:0, 2:0};
    history = [];
    turn = 1;
  }

  function toggleMode() {
    if (boardNotEmpty()) {
      const ok = confirm("돌이 놓여 있는 상태에서는 모드 전환이 불가합니다.\n판을 비우고 전환할까요?");
      if (!ok) return;
      clearBoardSilently();
    }

    isOmok = !isOmok;
    updateStatus();
    syncModeButton();
    draw();
  }

  function undo() {
    if (history.length > 0) {
      let last = history.pop();
      board = last.board;
      turn = last.turn;
      captures = last.captures;
      updateStatus();
      draw();
    }
  }

  function resetBoard() {
    if (confirm("초기화?")) {
      clearBoardSilently();
      updateStatus();
      draw();
    }
  }

  // 페이지 로드 시에도 초기 렌더(인트로 뒤에 미리 깔림)
  window.onload = () => {
    initBoard();
    updateStatus();
    syncModeButton();
  };
</script>
<div style="padding: 20px; text-align: center; border-radius: 12px; background: rgba(255,255,255,0.02); margin-top: 40px;">
  <p style="color: #888; font-size: 0.85rem; margin: 0;">※ 본 바둑판은 대국 기록을 수집하지 않는 개인 정보 보호 최우선 서비스입니다.</p>
</div>  
<footer style="width: 100%; max-width: 560px; margin-top: 50px; padding: 20px; text-align: center; border-top: 1px solid #333; font-size: 0.75rem; color: #666;">
  <p>© 2026 내 손안의 바둑판. All rights reserved.</p>
  <p>
    <a href="terms.html" style="color: #666; text-decoration: none;">이용약관</a> | 
    <a href="privacy.html" style="color: #666; text-decoration: none;">개인정보처리방침</a>
    <a href="mailto:ezzone00@gmail.com" style="color: #666; text-decoration: none;">문의하기</a>
  </p>
</footer>
<audio id="placeSound" src="place.mp3" preload="auto"></audio>
<audio id="captureSound" src="capture.mp3" preload="auto"></audio>  
</body>
</html>
